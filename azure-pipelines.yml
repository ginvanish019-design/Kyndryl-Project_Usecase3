trigger:
  branches:
    include:
      - main

pool:
  name: 'Anish_Agent'

steps:
- checkout: self

- bash: |
    echo "ğŸ Checking Python version..."
    python3 --version
  displayName: "Check Python Version"

- bash: |
    echo "ğŸ“¦ Installing Azure SDK dependencies..."
    python3 -m pip install --upgrade pip --break-system-packages
    pip install azure-identity azure-mgmt-compute azure-mgmt-resource --break-system-packages
  displayName: "Install Azure SDKs (Linux)"

- bash: |
    echo "ğŸš€ Running Multi-Cloud Auto Manager..."
    python3 multi_cloud_auto_manager.py
  displayName: "Run Multi-Cloud Auto Manager"
